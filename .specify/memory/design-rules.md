# Scenario Writing Lab デザインルール

UI・ビジュアル・UXに関するルール。
親ファイル: [constitution.md](./constitution.md)

---

## 原則03: デバイス方針（device_policy）

- **Desktop-first**設計とし、主要ターゲットは1024px以上とする。
- 768px以下では2カラムパネルを**1カラムにスタック**する。
- 縦書きエディタは全デバイスで**横スクロール可能**とする。
- ブレイクポイント: `--breakpoint-tablet: 768px`, `--breakpoint-desktop: 1024px`

---

## 原則04: エディタ比率（editor_ratio）

- 縦書きエディタの最小高さは**420px**とする。
- 行間（line-height）は**1.8**を標準とする。
- 縦書きモードは `writing-mode: vertical-rl; text-orientation: upright` で表現する。
- CSSでは `.vertical-editor` クラスで統一する。

---

## 原則05: 用語統一（terminology）

| 日本語 | コード識別子 | 説明 |
|--------|-------------|------|
| 柱 | **scene** | 場面見出し（場所・時間） |
| ト書き | **action** | 動作・状況描写 |
| セリフ | **dialogue** | 登場人物の発話 |
| 登場人物表 | **characterTable** | キャラクター管理 |
| 構成ガイド | **structurePanel** | 起承転結ガイド |
| あらすじ | **synopsis** | 作品概要 |
| 脚本 | **script** / **document** | 脚本データ |
| 縦書き | **verticalEditor** | 縦書き入力エリア |
| 部分アドバイス | **partialAdvice** | 選択範囲へのAI助言 |
| 修正前/修正後 | **diffView** | 差分比較表示 |

---

## 原則20: セクション構成（section_layout）

エディタページのセクション順序は以下で固定する：

| 順序 | セクション | 説明 |
|------|-----------|------|
| 1 | **ドキュメント管理** | タイトル・著者・あらすじ・保存/読み込み |
| 2 | **書式ツールバー** | 柱・ト書き・セリフ挿入 |
| 3 | **設定** | 文字数/行・枚数 |
| 4 | **縦書きエディタ** | 本文入力 |
| 5 | **登場人物表** | キャラクター管理 |
| 6 | **AIアドバイス** | デュアルパネル + 部分アドバイス |
| 7 | **構成ガイド** | 起承転結ガイド + セクション選択 |
| 8 | **差分・エクスポート** | 修正比較 + 出力 |

---

## 原則22: レイアウト方針（grid_policy）

- メインコンテナは `max-width: 1440px` で中央寄せとする。
- セクション間の余白は `--space-2xl (32px)` とする。
- アドバイスパネルは**1fr 1fr の2カラムグリッド**で配置する。
- 差分表示も**1fr 1fr の2カラムグリッド**で配置する。
- 768px以下では**1カラムにフォールバック**する。

---

## 原則24: デザイン参照（design_reference）

- 参照URL: https://www.u-tokyo.ac.jp/ja/index.html
- デザインは上記サイトの「**簡潔・余白・タイポ中心・節度あるアクセント**」の設計思想を参照する。
- ロゴ/画像/配色の**完全コピーはしない**。
- 配色は**モノトーン基調**に、アクセントとして**抑制された青**を使用する。
- 装飾を排し、**タイポグラフィの階層**で情報構造を伝える。

---

## 原則25: コンポーネント共通化（component_commonization）

- UIコンポーネントは**CSSクラスベース**で共通化する。
- `.section-container` でセクション枠を統一する（border + padding + radius）。
- `.btn-primary` / `.btn-danger` でボタンバリアントを統一する。
- `.flex-row` / `.flex-col` / `.grid-2col` でレイアウトパターンを統一する。
- インラインスタイルは**原則禁止**とし、CSSカスタムプロパティ経由で管理する。
- カラー・スペーシング・タイポグラフィは `tokens.css` のカスタムプロパティを使用する。
